(this.webpackJsonpfso_blog=this.webpackJsonpfso_blog||[]).push([[0],{34:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(29),u=n.n(r),c=n(5),o=l.a.createContext(),i=function(e){return{type:"USER_INPUT_CHANGE",payload:e}},s=function(e){return{type:"USER_INPUT_SUBMIT",payload:e}},m=n(3),p={is_authenticated:!1,db_profile:null,profile:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{is_authenticated:!0});case"LOGIN_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{is_authenticated:!1});case"ADD_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:t.payload});case"REMOVE_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:null});case"SET_DB_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{db_profile:t.payload});case"REMOVE_DB_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{db_profile:null});default:return e}},f={user_textChange:"",user_textSubmit:""},b=function(e,t){switch(t.type){case"USER_INPUT_CHANGE":return Object(m.a)(Object(m.a)({},e),{},{user_textChange:t.payload});case"USER_INPUT_SUBMIT":return Object(m.a)(Object(m.a)({},e),{},{user_textSubmit:t.payload});default:throw new Error}},h={posts:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DB_POSTS":return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload});case"REMOVE_DB_POSTS":return Object(m.a)(Object(m.a)({},e),{},{posts:[]});default:return e}},O=n(1),S=n(30),g=Object(S.a)(),j=n(11),v=n.n(j),C=function(){var e=Object(a.useContext)(o);return Object(a.useEffect)((function(){if(e.authObj.isAuthenticated()){var t=e.authObj.userProfile;e.handleUserLogin(),e.handleUserAddProfile(t),v.a.post("/api/posts/userprofiletodb",t).then(v.a.get("/api/get/userprofilefromdb",{params:{email:a.Profiler.profile.email}})).then((function(t){return e.handleAddDBProfile(t.data)})).then(g.replace("/"))}else e.handleUserLogout(),e.handleUserRemoveProfile(),g.replace("/")}),[e.authObj.userProfile,e]),l.a.createElement("div",null)},_=function(e){Object(a.useEffect)((function(){v.a.get("/api/hello").then((function(e){return u(e.data)}))}),[]);var t=Object(a.useState)(""),n=Object(c.a)(t,2),r=n[0],u=n[1];return l.a.createElement("div",null,"Home",l.a.createElement("p",null,r))},x=n(9),R=function(){var e=Object(a.useContext)(o);return l.a.createElement("div",null,l.a.createElement(x.a,{to:"/",style:{padding:"5px"}},"Home"),l.a.createElement(x.a,{to:"/profile",style:{padding:"5px"}},"Profile"),l.a.createElement(x.a,{to:"/hooksform",style:{padding:"5px"}},"Hooks Form"),l.a.createElement(x.a,{to:"/hookscontainer",style:{padding:"5px"}},"Hooks Container"),l.a.createElement(x.a,{to:"/privateroute",style:{padding:"5px"}},"Private Route"),e.authState?l.a.createElement("button",{onClick:function(){return e.authObj.logout()}},"Logout"):l.a.createElement("button",{onClick:function(){return e.authObj.login()}},"Login"))},y={stateprop1:!1,stateprop2:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{stateprop1:!0,stateprop2:!0});case"FAILURE":return Object(m.a)(Object(m.a)({},e),{},{stateprop1:!1,stateprop2:!1});default:throw new Error}},k=function(){var e=Object(a.useContext)(o),t=Object(a.useState)(0),n=Object(c.a)(t,2),r=n[0],u=n[1],i=Object(a.useState)(null),s=Object(c.a)(i,2),m=s[0],p=s[1],E=Object(a.useReducer)(P,y),f=Object(c.a)(E,2),b=f[0],h=f[1];Object(a.useEffect)((function(){setTimeout((function(){return p("useEffect worked")}),3e3)}),[r]);return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){p("some string")}}," Handle Value "),l.a.createElement("button",{onClick:function(){h({type:"SUCCESS"})}}," Dispatch True "),l.a.createElement("button",{onClick:function(){h({type:"FAILURE"})}}," Dispatch False "),l.a.createElement("button",{onClick:function(){return e.dispatchContextTrue()}}," ","Dispatch Context True"," "),l.a.createElement("button",{onClick:function(){return e.dispatchContextFalse()}}," ","Dispatch Context False"," "),l.a.createElement("button",{onClick:function(){u(r+1)}}," Add Local Value "),l.a.createElement("button",{onClick:function(){u(r-1)}}," Dec Local Value "),l.a.createElement("br",null),l.a.createElement("br",null),e.useContextSubmitState?l.a.createElement("h3",null," ",e.useContextSubmitState," "):l.a.createElement("h3",null," No User Text "),l.a.createElement("br",null),b.stateprop1?l.a.createElement("p",null," stateprop1 is true "):l.a.createElement("p",null," stateprop1 is false "),l.a.createElement("br",null),e.stateprop2?l.a.createElement("p",null," stateprop2 is true "):l.a.createElement("p",null," stateprop2 is false "),l.a.createElement("br",null),m?l.a.createElement("p",null," ",m," "):l.a.createElement("p",null," no value "),l.a.createElement("br",null),l.a.createElement("p",null,"Local Value: ",r),l.a.createElement("br",null),l.a.createElement("br",null)))},I=function(){var e=Object(a.useContext)(o),t=Object(a.useState)(""),n=Object(c.a)(t,2),r=n[0],u=n[1],m=Object(a.useState)(""),p=Object(c.a)(m,2),E=p[0],h=p[1],d=Object(a.useReducer)(b,f),O=Object(c.a)(d,2),S=O[0],g=O[1];return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h(e.target.useState.value)}},l.a.createElement("label",null," React useState: "),l.a.createElement("input",{id:"useState",onChange:function(e){return u(e.target.value)},type:"text"}),l.a.createElement("button",{type:"submit"}," Submit ")),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g(s(e.target.useReducer.value))}},l.a.createElement("label",null," React useReducer: "),l.a.createElement("input",{id:"useReducer",onChange:function(e){return g(i(e.target.value))},type:"text"}),l.a.createElement("button",{type:"submit"}," Submit ")),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:e.useContextSubmit},l.a.createElement("label",null," React useContext: "),l.a.createElement("input",{id:"useContext",onChange:e.useContextChange,type:"text"}),l.a.createElement("button",{type:"submit"}," Submit ")),l.a.createElement("br",null),l.a.createElement("h3",null,"React useState:"),l.a.createElement("p",null,"Change: ",r),l.a.createElement("p",null,"Submit: ",E),l.a.createElement("h3",null,"React useReducer:"),l.a.createElement("p",null,"Change: ",S.user_textChange),l.a.createElement("p",null,"Submit: ",S.user_textSubmit),l.a.createElement("br",null),l.a.createElement("h3",null,"React useContext:"),l.a.createElement("p",null,"Change: ",e.useContextChangeState),l.a.createElement("p",null,"Submit: ",e.useContextSubmitState),l.a.createElement("br",null),l.a.createElement("br",null))},T=function(e){return l.a.createElement("div",null,"Private Component")},U=function(){var e=Object(a.useContext)(o),t=function(e){return l.a.createElement("div",null,l.a.createElement("h1",null,e.profile.profile.nickname),l.a.createElement("br",null),l.a.createElement("img",{src:e.profile.profile.picture,alt:""}),l.a.createElement("br",null),l.a.createElement("h4",null,e.profile.profile.email),l.a.createElement("br",null),l.a.createElement("h5",null,e.profile.profile.name),l.a.createElement("br",null),l.a.createElement("h6",null,"Email Verified:"),e.profile.profile.email_verified?l.a.createElement("p",null,"Yes"):l.a.createElement("p",null,"No"),l.a.createElement("br",null))};return l.a.createElement("div",null,l.a.createElement(t,{profile:e.authObj.userProfile}))},A=function(e){var t=e.component,n=e.auth;return l.a.createElement(O.b,{render:function(e){return!0===n?l.a.createElement(t,Object.assign({auth:n},e)):l.a.createElement(O.a,{to:{pathname:"/"}})}})},D=function(){var e=Object(a.useContext)(o);return l.a.createElement("div",null,l.a.createElement(O.c,{history:g},l.a.createElement(R,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(O.d,null,l.a.createElement(O.b,{exact:!0,path:"/",component:_}),l.a.createElement(O.b,{path:"/hooksform",component:I}),l.a.createElement(O.b,{path:"/profile",component:U}),l.a.createElement(O.b,{path:"/hookscontainer",component:k}),l.a.createElement(O.b,{path:"/authcheck",component:C}),l.a.createElement(A,{path:"/privateoute",auth:e.authState,component:T}),l.a.createElement(A,{path:"/profile",auth:e.authState,component:U}),l.a.createElement(O.b,{path:"/callback",render:function(t){e.handleAuth(t)}})))))},L=n(32),F=n(33),w=new function e(){var t=this;Object(L.a)(this,e),this.auth0=new F.a.WebAuth({domain:"webapp1.auth0.com",clientID:"",redirectUri:"http://localhost:3000/callback",responseType:"token id_token",scope:"openid profile email"}),this.userProfile={},this.login=function(){t.auth0.authorize()},this.handleAuth=function(){t.auth0.parseHash((function(e,n){if(n){localStorage.setItem("access_token",n.accessToken),localStorage.setItem("id_token",n.idToken);var a=JSON.stringify(1e3*n.expiresIn+(new Date).getTime());localStorage.setItem("expiresAt",a),t.getProfile(),setTimeout((function(){g.replace("/authcheck")}),600)}else console.log(e)}))},this.getAccessToken=function(){return localStorage.getItem("access_token")?localStorage.getItem("access_token"):null},this.getProfile=function(){var e=t.getAccessToken();e&&t.auth0.client.userInfo(e,(function(e,n){n&&(t.userProfile={profile:n})}))},this.logout=function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expiresAt"),setTimeout((function(){g.replace("/authcheck")}),200)},this.isAuthenticated=function(){var e=JSON.parse(localStorage.getItem("expiresAt"));return(new Date).getTime()<e}},B=function(){var e=Object(a.useReducer)(d,h),t=Object(c.a)(e,2),n=t[0],r=t[1],u=Object(a.useReducer)(E,p),m=Object(c.a)(u,2),O=m[0],S=m[1],g=Object(a.useReducer)(b,f),j=Object(c.a)(g,2),v=j[0],C=j[1];return l.a.createElement("div",null,l.a.createElement(o.Provider,{value:{useContextChangeState:v.user_textChange,useContextSubmitState:v.user_textSubmit,useContextSubmit:function(e){return function(e){e.preventDefault(),e.persist(),C(s(e.target.useContext.value))}(e)},useContextChange:function(e){return function(e){C(i(e.target.value))}(e)},authState:O.is_authenticated,profileState:O.profile,dbProfileState:O.db_profile,handleUserLogin:function(){S({type:"LOGIN_SUCCESS"})},handleUserLogout:function(){S({type:"LOGIN_FAILURE"})},handleUserAddProfile:function(e){return function(){var e;S({type:"ADD_PROFILE",payload:e})}()},handleUserRemoveProfile:function(){S({type:"REMOVE_PROFILE"})},handleAddDBProfile:function(e){return function(e){S(function(e){return{type:"SET_DB_PROFILE",payload:e}}(e))}(e)},handleRemoveDBProfile:function(){S({type:"REMOVE_DB_PROFILE"})},postsState:n.posts,handleAddPosts:function(e){return function(e){r(function(e){return{type:"FETCH_DB_POSTS",payload:e}}(e))}(e)},handleRemovePosts:function(){r({type:"REMOVE_DB_POSTS"})},handleAuth:function(e){return function(e){e.location.hash&&w.handleAuth()}(e)},authObj:w}},l.a.createElement(D,null)))},N=function(){return l.a.createElement("div",null,l.a.createElement(B,null))};u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.fc852608.chunk.js.map